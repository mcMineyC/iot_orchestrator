# IoT Orchestrator
This is a simple program to orchestrate the control of IoT devices.  It acts as a central hub for clients to connect to.  The protocol used for communication is MQTT.

# Features
- MQTT-based communication protocol
- Easy to understand, use, and configure
  - Unified configuration file
- Relatively lightweight
  - It could probably run on a Behringer X2 (if not using Docker)

# Installation

## Manual
If you hate Docker (like I do), clone the repo and run it like a standard Go project.
```
git clone https://github.com/mcMineyC/iot_orchestrator.git
cd iot_orchestrator
go run .
```

But, if for some reason or another you are forced to use it, then there is an image available.

## Docker
Make sure to create a config directory and mount it at /config inside the container.  If using Node for your integrations (as seen as the examples in this repo, install your node modules before starting the container.
```
mkdir config
cd config
npm ci # Install node modules without changing any versions
docker run \
  -d \ # Detach from container to run in background
  -p 1883:1883 \ # Expose MQTT bus
  -v ./config:/config \ # Mount config
  mcmineyc/iot_orchestrator
```


# Configuration
Check out config/integrations/example.js, as it provides a good starting point for an integration.  config/config.json is also pre-populated with example usage.

# Documentation
Some basic orchestrator docs are provided on [my website](https://forkleserver.mooo.com/projects/IoT%20Orchestrator).  I will try to update them as I go
The schemas for integrations are autogenerated and stored in config/schemas.

# Inspiration
I was fed up with the complexity of creating a Home Assistant integration (Python is my least favorite language), so I created my own solution.  Plus, Home Assistant is very, very slow and YAML is not a good way to configure such things (imo).
